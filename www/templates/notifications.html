{%extends "master.html"%}
{%block title%}Notifications{%endblock%}
{%block header%}Twitch Notifications{%endblock%}
{%block headextra%}
<script type="text/javascript" src="{{url_for('static', filename='common.js')|e}}"></script>
<script type="text/javascript" src="{{url_for('static', filename='notifications.js')|e}}"></script>
{%endblock%}
{%block content%}
<ol id="notificationlist" data-maxkey="{{maxkey}}">
{%for row in row_data%}
	<li {%if row['time']%}data-timestamp="{{row['time']}}"{%endif%} class="{{loop.cycle('even', 'odd')}}">
	{%if row['duration']%}<div class="duration">{{row['duration']|e}}</div>{%endif%}
	{%if row['channel']%}<div class="channel">{{row['channel']|e}}</div>{%endif%}
	{%if row['user']%}
		<div class="user">
		{%if row['avatar']%}<a href="http://www.twitch.tv/{{row['user']|e}}"><img class="avatar" src="{{row['avatar']|e}}"></a>{%endif%}
		<a href="http://www.twitch.tv/{{row['user']|e}}">{{row['user']|e}}</a> just subscribed!
		</div>
	{%else%}
		<div class="message">{{row['message']|e}}</div>
	{%endif%}
	</li>
{%endfor%}
</ol>
{%endblock%}
